{"version":3,"sources":["../../src/NopeReference.ts","../../src/utils.ts","../../src/NopeObject.ts","../../src/consts.ts","../../src/NopePrimitive.ts","../../src/NopeString.ts","../../src/NopeNumber.ts","../../src/NopeBoolean.ts","../../src/NopeArray.ts","../../src/NopeDate.ts","../../src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["export class NopeReference {\n  public key: string;\n\n  public constructor(key: string) {\n    this.key = key;\n  }\n}\n","import { NopeReference } from './NopeReference';\nimport { Nil } from './types';\n\nfunction resolvePathFromContext(path: string, context?: Record<string | number, any>) {\n  const optionWithPath = path.split('../');\n  const depth = optionWithPath.length - 1;\n\n  const key = optionWithPath[optionWithPath.length - 1];\n\n  let ctx = context;\n\n  for (let i = 0; i < depth; i++) {\n    ctx = ctx?.___parent;\n  }\n\n  if (ctx && key !== undefined && key !== null) {\n    return ctx[key];\n  }\n\n  return key;\n}\n\nexport function resolveNopeRefsFromKeys(options: string[], context?: Record<string | number, any>) {\n  const resolvedOptions = options.map((option) => {\n    return resolvePathFromContext(option, context);\n  });\n\n  return resolvedOptions;\n}\n\nexport function resolveNopeRef<T>(\n  option: T | NopeReference | Nil,\n  context?: Record<string | number, any>,\n) {\n  if (option instanceof NopeReference) {\n    return resolvePathFromContext(option.key, context);\n  }\n\n  return option;\n}\n\nexport function deepEquals(a: any, b: any): boolean {\n  if (typeof a == 'object' && a != null && typeof b == 'object' && b != null) {\n    if (a === b) {\n      return true;\n    }\n\n    let aCount = 0;\n    let bCount = 0;\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ in a) {\n      aCount++;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ in b) {\n      bCount++;\n    }\n\n    if (aCount - bCount !== 0) {\n      return false;\n    }\n\n    for (const key in a) {\n      if (!(key in b) || !deepEquals(a[key], b[key])) {\n        return false;\n      }\n    }\n    for (const key in b) {\n      if (!(key in a) || !deepEquals(b[key], a[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  return a === b;\n}\n\nexport function pathToArray(path: string): string[] {\n  return path.split(/[,[\\].]/g).filter(Boolean);\n}\n\nexport function getFromPath(path: string, entry: Record<string | number, any>, dropLast = false) {\n  if (!path) {\n    return undefined;\n  }\n\n  let pathArray = pathToArray(path);\n  pathArray = dropLast ? pathArray.slice(0, -1) : pathArray;\n\n  let value: any = entry;\n\n  for (const key of pathArray) {\n    value = value[key];\n  }\n\n  return value;\n}\n\nexport function runValidators(tasks: any, entry: any, context: any) {\n  let done = false;\n  return tasks.reduce(function (previous: any, next: any) {\n    if (done) {\n      return previous;\n    }\n    return previous\n      .then(function (error: any) {\n        if (error) {\n          done = true;\n          return error;\n        }\n\n        return next(entry, context);\n      })\n      .catch(function (error: any) {\n        if (error) {\n          done = true;\n          return error;\n        }\n\n        return next(entry, context);\n      });\n  }, Promise.resolve());\n}\n\nexport function isNil(entry: any): entry is Nil {\n  return !!(entry === undefined || entry === null);\n}\n","import { Validatable, Rule, AsyncRule, ShapeErrors, Context } from './types';\nimport { pathToArray, getFromPath, runValidators } from './utils';\n\ninterface ObjectShape {\n  [key: string]: Validatable<any> | NopeObject;\n}\n\ntype ValidateOptions = {\n  abortEarly: boolean;\n};\n\ntype AnyObject = Record<string | number, any>;\n\ntype ErrorsResult = ShapeErrors | undefined;\n\nexport class NopeObject {\n  private objectShape: ObjectShape;\n  private validationRules: (Rule<AnyObject> | AsyncRule<AnyObject>)[] = [];\n  protected _type = 'object';\n\n  public constructor(objectShape?: ObjectShape) {\n    this.objectShape = objectShape || {};\n  }\n\n  public getType() {\n    return this._type;\n  }\n\n  public shape(shape: ObjectShape) {\n    Object.assign(this.objectShape, shape);\n\n    return this;\n  }\n\n  public extend(Base: NopeObject) {\n    Object.assign(this.objectShape, Base.objectShape);\n\n    return this;\n  }\n\n  public noUnknown(message = 'Input contains invalid keys') {\n    const rule: Rule<Record<string | number, unknown>> = (entry) => {\n      let objectIsDefined = false;\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      for (const _ in this.objectShape) {\n        objectIsDefined = true;\n        break;\n      }\n\n      if (!objectIsDefined) {\n        throw Error('noUnknown must be used with a schema');\n      }\n\n      let unknownKeys = false;\n\n      for (const key in entry) {\n        unknownKeys = unknownKeys || !(key in this.objectShape);\n      }\n\n      if (unknownKeys) {\n        return message;\n      }\n    };\n\n    this.validationRules.push(rule);\n\n    return this;\n  }\n\n  public validate(entry: AnyObject, context?: AnyObject | null, options?: ValidateOptions) {\n    for (const rule of this.validationRules) {\n      const localErrors = rule(entry);\n\n      if (localErrors) {\n        return localErrors;\n      }\n    }\n\n    let areErrors = false;\n    const abortEarly = options?.abortEarly;\n    const errors: ErrorsResult = {};\n\n    const ctx = Object.assign({ ___parent: context }, entry);\n\n    for (const key in this.objectShape) {\n      const validator = this.objectShape[key];\n      const error = validator.validate(entry[key], ctx, options);\n\n      if (error) {\n        areErrors = true;\n        errors[key] = error as string;\n\n        if (abortEarly) {\n          return errors;\n        }\n      }\n    }\n\n    if (areErrors) {\n      return errors;\n    }\n\n    return undefined;\n  }\n\n  public validateAsync(\n    entry: AnyObject,\n    context?: Context,\n    options?: Omit<ValidateOptions, 'abortEarly'>,\n  ) {\n    return runValidators(this.validationRules, entry, context).then((localError: any) => {\n      if (localError) {\n        return localError;\n      }\n\n      const keys: string[] = [];\n      const results: any[] = [];\n\n      const ctx = Object.assign({ ___parent: context }, entry);\n\n      for (const key in this.objectShape) {\n        const validator = this.objectShape[key];\n        const error = validator.validateAsync(entry[key], ctx, options);\n\n        keys.push(key);\n        results.push(error);\n      }\n\n      return Promise.all(results).then((resolvedErrors) => {\n        const errors: ErrorsResult = {};\n        let areErrors = false;\n        for (let i = 0; i < keys.length; i++) {\n          const error = resolvedErrors[i];\n\n          if (error) {\n            areErrors = true;\n            errors[keys[i]] = error as string;\n          }\n        }\n\n        if (areErrors) {\n          return errors;\n        }\n\n        return undefined;\n      });\n    });\n  }\n\n  public validateAt(path: string, entry: Record<string | number, any>) {\n    const arrayPath = pathToArray(path);\n\n    let validator: any = this.objectShape;\n\n    for (const p of arrayPath) {\n      if (!isNaN(parseInt(p, 10))) {\n        continue;\n      }\n\n      if (validator[p]?.objectShape) {\n        validator = validator[p].objectShape;\n      } else if (validator[p]?.ofShape) {\n        validator = validator[p].ofShape.objectShape || validator[p].ofShape;\n      } else {\n        validator = validator[p];\n      }\n    }\n\n    const parentValue = getFromPath(path, entry, true);\n    const value = getFromPath(path, entry);\n\n    return validator.validate(value, parentValue);\n  }\n}\n","export const emailRegex =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\nexport const urlRegex =\n  /^([a-z][a-z0-9\\*\\-\\.]*):\\/\\/(?:(?:(?:[\\w\\.\\-\\+!$&'\\(\\)*\\+,;=]|%[0-9a-f]{2})+:)*(?:[\\w\\.\\-\\+%!$&'\\(\\)*\\+,;=]|%[0-9a-f]{2})+@)?(?:(?:[a-z0-9\\-\\.]|%[0-9a-f]{2})+|(?:\\[(?:[0-9a-f]{0,4}:)*(?:[0-9a-f]{0,4})\\]))(?::[0-9]+)?(?:[\\/|\\?](?:[\\w#!:\\.\\?\\+=&@!$'~*,;\\/\\(\\)\\[\\]\\-]|%[0-9a-f]{2})*)?$/i;\n","import { NopeReference } from './NopeReference';\nimport { AsyncRule, Context, Nil, Rule, Validatable } from './types';\nimport { isNil, resolveNopeRef, resolveNopeRefsFromKeys, runValidators } from './utils';\n\nexport abstract class NopePrimitive<T> implements Validatable<T> {\n  protected validationRules: (Rule<T> | AsyncRule<T>)[] = [];\n  protected _type = 'undefined';\n  protected _entry: T | undefined;\n\n  public getType() {\n    return this._type;\n  }\n\n  protected isEmpty(entry: T | Nil): boolean {\n    return isNil(entry);\n  }\n\n  public required(message = 'This field is required') {\n    const rule: Rule<T> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public notAllowed(message = 'Field is not allowed') {\n    const rule: Rule<T> = (entry) => {\n      if (!this.isEmpty(entry)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public when(\n    keys: string[] | string,\n    conditionObject: {\n      is: boolean | ((...args: any) => boolean);\n      then: NopePrimitive<any>;\n      otherwise: NopePrimitive<any>;\n    },\n  ) {\n    const ctxKeys = Array.isArray(keys) ? keys : [keys];\n\n    const rule: Rule<T> = (_, context) => {\n      const resolvedConditionValues = resolveNopeRefsFromKeys(ctxKeys, context);\n\n      const values = [...resolvedConditionValues];\n\n      const condIs = conditionObject.is;\n\n      const result =\n        typeof condIs === 'function'\n          ? condIs(...values)\n          : resolvedConditionValues.every((val: any) => val === condIs);\n\n      return result ? conditionObject.then : conditionObject.otherwise;\n    };\n\n    return this.test(rule);\n  }\n\n  public oneOf(options: (T | NopeReference | Nil)[] | NopeReference, message = 'Invalid option') {\n    const rule: Rule<T> = (entry, context) => {\n      if (entry === undefined) {\n        return;\n      }\n\n      let resolved: any[];\n\n      if (options instanceof NopeReference) {\n        resolved = resolveNopeRef(options, context);\n      } else {\n        resolved = options.map((option) => resolveNopeRef(option, context));\n      }\n\n      if (resolved.indexOf(entry) === -1) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public notOneOf(options: (T | NopeReference | Nil)[], message = 'Invalid Option') {\n    const rule: Rule<T> = (entry, context) => {\n      const resolvedOptions = options.map((option) => resolveNopeRef(option, context));\n\n      if (resolvedOptions.indexOf(entry) !== -1) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public test(rule: Rule<T> | AsyncRule<T>) {\n    this.validationRules.push(rule);\n\n    return this;\n  }\n\n  /**\n   * @param entry - The value to be validated\n   * @param context - Used for internal reference resolving. Do not pass this.\n   */\n  public validate(entry?: T | Nil, context?: Record<string | number, unknown>): string | undefined {\n    this._entry = <T>entry;\n\n    for (const rule of this.validationRules) {\n      const error = rule(this._entry, context);\n\n      if (error instanceof NopePrimitive) {\n        return error.validate(this._entry, context);\n      } else if (error) {\n        return error as string;\n      }\n    }\n  }\n\n  public validateAsync(entry?: T | Nil, context?: Context): Promise<string | undefined> {\n    return runValidators(this.validationRules, this._entry ?? entry, context).then((error: any) => {\n      if (error instanceof NopePrimitive) {\n        return error.validateAsync(this._entry ?? entry, context);\n      } else if (error) {\n        return error;\n      }\n    });\n  }\n}\n","import { emailRegex, urlRegex } from './consts';\nimport { NopePrimitive } from './NopePrimitive';\nimport { Nil, Rule } from './types';\nimport { isNil } from './utils';\n\nexport class NopeString extends NopePrimitive<string> {\n  protected _type = 'string';\n\n  public validate(entry?: any, context?: Record<string, unknown>): string | undefined {\n    const value = entry ? String(entry) : entry;\n\n    return super.validate(value, context);\n  }\n\n  public validateAsync(\n    entry?: any,\n    context?: Record<string, unknown>,\n  ): Promise<string | undefined> {\n    const value = entry ? String(entry) : entry;\n\n    return super.validateAsync(value, context);\n  }\n\n  protected isEmpty(value: string | Nil) {\n    return isNil(value) || value.trim().length === 0;\n  }\n\n  public regex(regex: RegExp, message = \"Doesn't satisfy the rule\"): this {\n    const rule: Rule<string> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if (!regex.test(entry as string)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public url(message = 'Input is not a valid url'): this {\n    this.regex(urlRegex, message);\n    return this;\n  }\n\n  public email(message = 'Input is not a valid email'): this {\n    this.regex(emailRegex, message);\n    return this;\n  }\n\n  public min(length: number, message?: string): this {\n    this.atLeast(length, message);\n    return this;\n  }\n\n  public max(length: number, message?: string): this {\n    this.atMost(length, message);\n    return this;\n  }\n\n  public greaterThan(length: number, message = 'Input is too short'): this {\n    const rule: Rule<string> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const value = entry as string;\n      if (value.length <= length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public lessThan(length: number, message = 'Input is too long'): this {\n    const rule: Rule<string> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const value = entry as string;\n      if (value.length >= length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public atLeast(length: number, message = 'Input is too short') {\n    const rule: Rule<string> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const value = entry as string;\n      if (value.length < length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public atMost(length: number, message = 'Input is too long') {\n    const rule: Rule<string> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const value = entry as string;\n      if (value.length > length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public between(\n    startLength: number,\n    endLength: number,\n    atLeastMessage = 'Input is too short',\n    atMostMessage = 'Input is too long',\n  ) {\n    if (startLength && endLength && startLength > endLength) {\n      const rule: Rule<any> = () => {\n        throw Error(\n          'between must receive an initial length (startLength) smaller than the final length (endLength) parameter',\n        );\n      };\n\n      return this.test(rule);\n    }\n\n    this.atLeast(startLength, atLeastMessage);\n    this.atMost(endLength, atMostMessage);\n\n    return this;\n  }\n\n  public exactLength(length: number, message = `Must be at exactly of length ${length}`) {\n    const rule: Rule<string> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const value = entry as string;\n      if (value.length !== length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public trim() {\n    const rule: Rule<string> = (entry): any => {\n      this._entry = (entry as string).trim();\n      return;\n    };\n\n    return this.test(rule);\n  }\n}\n","import { NopePrimitive } from './NopePrimitive';\nimport { Rule } from './types';\n\nexport class NopeNumber extends NopePrimitive<number> {\n  private message = 'The field is not a number';\n  protected _type = 'number';\n\n  public integer(message = 'Input must be an integer') {\n    const rule: Rule<number> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if (entry !== Math.floor(entry as number)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public min(size: number, message?: string) {\n    this.atLeast(size, message);\n    return this;\n  }\n\n  public max(size: number, message?: string) {\n    this.atMost(size, message);\n    return this;\n  }\n\n  public greaterThan(size: number, message = 'Input is too small') {\n    const rule: Rule<number> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if ((entry as number) <= size) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public lessThan(size: number, message = 'Input is too large') {\n    const rule: Rule<number> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if ((entry as number) >= size) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public atLeast(size: number, message = 'Input is too small') {\n    const rule: Rule<number> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if ((entry as number) < size) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public atMost(size: number, message = 'Input is too large') {\n    const rule: Rule<number> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if ((entry as number) > size) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public between(\n    sizeStart: number,\n    sizeEnd: number,\n    atLeastMessage = 'Input is too small',\n    atMostMessage = 'Input is too large',\n  ) {\n    if (sizeStart && sizeEnd && sizeStart > sizeEnd) {\n      const rule: Rule<any> = () => {\n        throw Error(\n          'between must receive an initial size (sizeStart) smaller than the final size (sizeEnd) parameter',\n        );\n      };\n\n      return this.test(rule);\n    }\n\n    this.atLeast(sizeStart, atLeastMessage);\n    this.atMost(sizeEnd, atMostMessage);\n\n    return this;\n  }\n\n  public positive(message = 'Input must be positive') {\n    this.greaterThan(0, message);\n    return this;\n  }\n\n  public negative(message = 'Input must be negative') {\n    this.lessThan(0, message);\n    return this;\n  }\n\n  public validate(entry?: any, context?: Record<string | number, unknown>): string | undefined {\n    const value = entry ? Number(entry) : entry;\n\n    if (!this.isEmpty(value) && Number.isNaN(value)) {\n      return this.message;\n    }\n\n    return super.validate(value, context);\n  }\n\n  public validateAsync(\n    entry?: any,\n    context?: Record<string | number, unknown>,\n  ): Promise<string | undefined> {\n    const value = entry ? Number(entry) : entry;\n\n    if (!this.isEmpty(value) && Number.isNaN(value)) {\n      return Promise.resolve(this.message);\n    }\n\n    return super.validateAsync(value, context);\n  }\n\n  public constructor(message = 'The field is not a valid number') {\n    super();\n    this.message = message;\n  }\n}\n","import { NopePrimitive } from './NopePrimitive';\nimport { Rule } from './types';\nimport { isNil } from './utils';\n\nexport class NopeBoolean extends NopePrimitive<boolean> {\n  protected _type = 'boolean';\n\n  public true(message = 'Input must be true') {\n    const rule: Rule<boolean> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if (entry !== true) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public false(message = 'Input must be false') {\n    const rule: Rule<boolean> = (entry) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      if (entry !== false) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public validate(entry?: any, context?: Record<string | number, unknown>): string | undefined {\n    const value = isNil(entry) ? entry : !!entry;\n\n    return super.validate(value, context);\n  }\n\n  public validateAsync(\n    entry?: any,\n    context?: Record<string | number, unknown>,\n  ): Promise<string | undefined> {\n    const value = isNil(entry) ? entry : !!entry;\n\n    return super.validateAsync(value, context);\n  }\n}\n","import { Rule, Validatable } from './types';\nimport { NopePrimitive } from './NopePrimitive';\nimport { deepEquals, isNil, runValidators } from './utils';\nimport { NopeObject } from './NopeObject';\n\nfunction ofType(entry: any, primitive: any) {\n  let done = false;\n  return entry.reduce(function (previous: any, next: any) {\n    if (done) {\n      return previous;\n    }\n    return previous.then(function (error: any) {\n      if (error) {\n        done = true;\n        return error;\n      }\n\n      return primitive.validateAsync(next);\n    });\n  }, Promise.resolve());\n}\n\nexport class NopeArray<T> implements Validatable<T[]> {\n  protected _type = 'object';\n  public validationRules: Rule<T[]>[] = [];\n  public ofShape: Validatable<T> | NopeObject | null = null;\n\n  public getType() {\n    return this._type;\n  }\n\n  public required(message = 'This field is required') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public of(\n    primitive: Validatable<T> | NopeObject,\n    message = 'One or more elements are of invalid type',\n  ) {\n    this.ofShape = primitive;\n\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (entry.some((value) => primitive.getType() !== typeof value)) {\n        return message;\n      }\n\n      const error = entry.find((value) => primitive.validate(value as any));\n\n      if (error) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public ofAsync(\n    primitive: Validatable<T> | NopeObject,\n    message = 'One or more elements are of invalid type',\n  ) {\n    this.ofShape = primitive;\n\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (entry.some((value) => primitive.getType() !== typeof value)) {\n        return message;\n      }\n\n      return ofType(entry, primitive).then((error?: string) => (error && message) || undefined);\n    };\n\n    return this.test(rule);\n  }\n\n  public minLength(length: number, message = 'Input is too short') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (entry.length <= length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public maxLength(length: number, message = 'Input is too long') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (entry.length >= length) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public mustContain(value: T, message = 'Input does not contain required value') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (entry.indexOf(value) === -1) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public hasOnly(values: T[], message = 'Input elements must correspond to value values') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (\n        entry.some((value) => {\n          if (typeof value === 'object') {\n            return !values.find((v) => deepEquals(value, v));\n          }\n          return values.indexOf(value) === -1;\n        })\n      ) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public every(callback: (value: T) => boolean, message = 'Input does not satisfy condition') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry)) {\n        return;\n      }\n\n      if (entry.some((value) => !callback(value))) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public some(callback: (value: T) => boolean, message = 'Input does not satisfy condition') {\n    const rule: Rule<T[]> = (entry) => {\n      if (isNil(entry) || entry.length === 0) {\n        return;\n      }\n\n      if (!entry.some((value) => callback(value))) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public test(rule: Rule<T[]>) {\n    this.validationRules.push(rule);\n\n    return this;\n  }\n\n  public validate(\n    entry?: T[] | null,\n    context?: Record<string | number, unknown>,\n  ): string | undefined {\n    for (const rule of this.validationRules) {\n      const error = rule(entry, context);\n\n      if (error instanceof NopePrimitive) {\n        return error.validate(entry, context);\n      } else if (error) {\n        return `${error}`;\n      }\n    }\n  }\n\n  public validateAsync(\n    entry?: T[] | null,\n    context?: Record<string | number, unknown>,\n  ): Promise<string | undefined> {\n    return runValidators(this.validationRules, entry, context).then(\n      (error: NopePrimitive<T[]> | string | undefined) => {\n        if (error instanceof NopePrimitive) {\n          return error.validateAsync(entry, context);\n        } else if (error) {\n          return error;\n        }\n      },\n    );\n  }\n}\n","import { NopePrimitive } from './NopePrimitive';\nimport { NopeReference } from './NopeReference';\nimport { Rule } from './types';\n\ntype T = string | number | Date;\n\nexport class NopeDate extends NopePrimitive<T> {\n  private message: string;\n  protected _type = 'object';\n\n  public before(\n    beforeDate: T | NopeReference,\n    message = `Date must be before ${beforeDate.toString()}`,\n  ) {\n    const rule: Rule<T> = (entry, context) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const resolvedBeforeDate =\n        beforeDate instanceof NopeReference && context ? context[beforeDate.key] : beforeDate;\n\n      if (new Date(entry as Date) >= new Date(resolvedBeforeDate)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  public after(afterDate: T | NopeReference, message = `Date must be after ${afterDate}`) {\n    const rule: Rule<T> = (entry, context) => {\n      if (this.isEmpty(entry)) {\n        return;\n      }\n\n      const resolvedAfterDate =\n        afterDate instanceof NopeReference && context ? context[afterDate.key] : afterDate;\n\n      if (new Date(entry as Date) <= new Date(resolvedAfterDate)) {\n        return message;\n      }\n    };\n\n    return this.test(rule);\n  }\n\n  private parseDate(entry?: any) {\n    let value = entry;\n\n    if (this.isEmpty(entry) || entry instanceof Date) {\n      value = entry;\n    } else if (!isNaN(+new Date(entry))) {\n      value = new Date(entry);\n    } else {\n      const ms = new Date(entry);\n\n      if (isNaN(+ms)) {\n        throw this.message;\n      }\n\n      value = new Date(ms);\n    }\n\n    return value;\n  }\n\n  public validate(\n    entry?: any,\n    context?: Record<string | number, unknown>,\n  ): string | undefined | any {\n    let value;\n\n    try {\n      value = this.parseDate(entry);\n    } catch (error) {\n      return error;\n    }\n\n    return super.validate(value, context);\n  }\n  public validateAsync(\n    entry?: any,\n    context?: Record<string | number, unknown>,\n  ): Promise<string | undefined | any> {\n    let value;\n\n    try {\n      value = this.parseDate(entry);\n    } catch (error) {\n      return Promise.resolve(error);\n    }\n\n    return super.validateAsync(value, context);\n  }\n\n  public constructor(message = 'The field is not a valid date') {\n    super();\n    this.message = message;\n  }\n}\n","import { NopeObject } from './NopeObject';\nimport { NopeString } from './NopeString';\nimport { NopeNumber } from './NopeNumber';\nimport { NopeBoolean } from './NopeBoolean';\nimport { NopeArray } from './NopeArray';\nimport { NopeDate } from './NopeDate';\nimport { NopeReference } from './NopeReference';\n\nconst object = () => new NopeObject();\nconst string = () => new NopeString();\nconst number = (message?: string) => new NopeNumber(message);\nconst boolean = () => new NopeBoolean();\nconst date = (message?: string) => new NopeDate(message);\nconst array = <T>() => new NopeArray<T>();\nconst ref = (key: string) => new NopeReference(key);\n\nconst Nope = {\n  object,\n  string,\n  number,\n  boolean,\n  date,\n  array,\n  ref,\n};\n\nexport { Nope, object, string, number, boolean, date, array, ref };\n\nexport default Nope;\n"]}